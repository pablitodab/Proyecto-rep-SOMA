<section class="register-container" aria-label="Registro de usuario">
  <header class="register-header">
    <h2>Registro de usuario</h2>
  </header>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
    <fieldset class="register-fieldset">
      <legend class="visually-hidden">Datos de usuario</legend>
      <ul class="register-fields">
        <li class="form-group">
          <label for="name">Nombre</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            required
            autocomplete="given-name"
          >
          <div *ngIf="registerForm.controls['name'].touched && registerForm.controls['name'].errors" class="error-message">
            <span *ngIf="registerForm.controls['name'].errors?.['required']">El nombre es obligatorio</span>
          </div>
        </li>
        <li class="form-group">
          <label for="lastname">Apellido</label>
          <input
            type="text"
            id="lastname"
            formControlName="lastname"
            required
            autocomplete="family-name"
          >
          <div *ngIf="registerForm.controls['lastname'].touched && registerForm.controls['lastname'].errors" class="error-message">
            <span *ngIf="registerForm.controls['lastname'].errors?.['required']">El apellido es obligatorio</span>
          </div>
        </li>
        <li class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            required
            autocomplete="email"
          >
          <div *ngIf="registerForm.controls['email'].touched && registerForm.controls['email'].errors" class="error-message">
            <span *ngIf="registerForm.controls['email'].errors?.['required']">El email es obligatorio</span>
            <span *ngIf="registerForm.controls['email'].errors?.['email']">El email no es válido</span>
          </div>
        </li>
        <li class="form-group">
          <label for="credential">Usuario</label>
          <input
            type="text"
            id="credential"
            formControlName="credential"
            required
            autocomplete="username"
          >
          <div *ngIf="registerForm.controls['credential'].touched && registerForm.controls['credential'].errors" class="error-message">
            <span *ngIf="registerForm.controls['credential'].errors?.['required']">El usuario es obligatorio</span>
          </div>
        </li>
        <li class="form-group">
          <label for="password">Contraseña</label>
          <input
            type="password"
            id="password"
            formControlName="password"
            required
            autocomplete="new-password"
          >
          <div *ngIf="registerForm.controls['password'].touched && registerForm.controls['password'].errors" class="error-message">
            <span *ngIf="registerForm.controls['password'].errors?.['required']">La contraseña es obligatoria</span>
            <span *ngIf="registerForm.controls['password'].errors?.['minlength']">La contraseña debe tener al menos 8 caracteres</span>
          </div>
        </li>
      </ul>
      <button type="submit" [disabled]="registerForm.invalid" class="btn">
        Registrarse
      </button>
      <div *ngIf="registerForm.errors?.['serverError']" class="error-message">
        {{ registerForm.errors?.['serverError'] || 'Error al registrar usuario' }}
      </div>
    </fieldset>
  </form>
  <footer class="register-footer">
    <p>¿Ya tienes cuenta? <a [routerLink]="['/login']">Inicia sesión aquí</a></p>
  </footer>
</section>
