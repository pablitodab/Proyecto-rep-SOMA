<section class="diario-container">
  <h2>Diario Personal</h2>
  <p class="descripcion">
    Registra tus pensamientos, metas diarias y progresos. Este es tu espacio privado para reflexionar sobre tu día.
  </p>

  <form (ngSubmit)="onSubmit()" class="formulario">
    <div class="form-group">
      <label for="titulo">Título del día:</label>
      <input 
        type="text" 
        id="titulo" 
        [(ngModel)]="nuevaEntrada.titulo" 
        name="titulo"
        required
      >
    </div>

    <div class="form-group">
      <label for="fecha">Fecha:</label>
      <input 
        type="date" 
        id="fecha" 
        [(ngModel)]="nuevaEntrada.fecha" 
        name="fecha"
        required
      >
    </div>

    <div class="form-group">
      <label for="texto">Registro diario:</label>
      <textarea 
        id="texto" 
        [(ngModel)]="nuevaEntrada.texto" 
        name="texto" 
        rows="5"
        required
      ></textarea>
    </div>

    <button type="submit" [disabled]="!nuevaEntrada.titulo || !nuevaEntrada.texto">
      {{ entradaEditando ? 'Actualizar' : 'Guardar' }} Entrada
    </button>
    <button type="button" (click)="resetFormulario()" *ngIf="entradaEditando">Cancelar</button>
  </form>

  <div class="lista-entradas">
    <div *ngFor="let entrada of entradas; trackBy: trackByFn" class="entrada">
      <h3>{{ entrada.titulo }}</h3>
      <p class="fecha">{{ entrada.fecha | date:'dd/MM/yyyy' }}</p>
      <p class="contenido">{{ entrada.texto }}</p>
      <div class="acciones">
        <button (click)="editarEntrada(entrada)">✏️ Editar</button>
        <button (click)="eliminarEntrada(entrada.id!)" class="btn-eliminar" [disabled]="!entrada.id"> 🗑️ Eliminar</button>
      </div>
    </div>
  </div>
</section>
