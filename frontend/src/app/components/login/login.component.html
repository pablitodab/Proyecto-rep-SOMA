<section class="login-container" aria-label="Iniciar sesión">
  <header class="login-header">
    <h2>Iniciar sesión</h2>
  </header>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
    <fieldset class="login-fieldset">
      <legend class="visually-hidden">Datos de acceso</legend>
      <ul class="login-fields">
        <li class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            required
            autocomplete="username"
          >
          <div *ngIf="loginForm.controls['email'].touched && loginForm.controls['email'].errors" class="error-message">
            <span *ngIf="loginForm.controls['email'].errors?.['required']">El email es obligatorio</span>
            <span *ngIf="loginForm.controls['email'].errors?.['email']">El email no es válido</span>
          </div>
        </li>
        <li class="form-group">
          <label for="password">Contraseña</label>
          <input
            type="password"
            id="password"
            formControlName="password"
            required
            autocomplete="current-password"
          >
          <div *ngIf="loginForm.controls['password'].touched && loginForm.controls['password'].errors" class="error-message">
            <span *ngIf="loginForm.controls['password'].errors?.['required']">La contraseña es obligatoria</span>
          </div>
        </li>
      </ul>
      <button type="submit" [disabled]="loginForm.invalid || loading" class="btn">
        {{ loading ? 'Cargando...' : 'Iniciar sesión' }}
      </button>
      <div *ngIf="loginForm.errors?.['invalidCredentials']" class="error-message">
        Credenciales incorrectas
      </div>
      <div *ngIf="loginForm.errors?.['serverError']" class="error-message">
        Error de conexión con el servidor
      </div>
    </fieldset>
  </form>
  <footer class="login-footer">
    <p>¿No tienes cuenta? <a [routerLink]="['/register']">Regístrate aquí</a></p>
  </footer>
</section>
